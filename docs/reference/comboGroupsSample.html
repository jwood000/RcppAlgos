<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Sample Partitions of a Vector into Groups of Equal Size — comboGroupsSample • RcppAlgos</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Sample Partitions of a Vector into Groups of Equal Size — comboGroupsSample" />
<meta property="og:description" content="
Generate a specific (lexicographically) or random sample of partitions of groups of equal size.
Produce results in parallel using the Parallel or nThreads arguments.
GMP support allows for exploration where the number of results is large.

" />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">RcppAlgos</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">2.4.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/CombPermConstraints.html">Constraints, Integer Partitions, and Compositions</a>
    </li>
    <li>
      <a href="../articles/CombinatorialSampling.html">Combinatorial Sampling</a>
    </li>
    <li>
      <a href="../articles/ComputationalMathematics.html">Computational Mathematics Overview</a>
    </li>
    <li>
      <a href="../articles/GeneralCombinatorics.html">Combination and Permutation Basics</a>
    </li>
    <li>
      <a href="../articles/HighPerformanceBenchmarks.html">High Performance Benchmarks</a>
    </li>
    <li>
      <a href="../articles/SubsetSum.html">Attacking Problems Related to the Subset Sum Problem</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/jwood000/RcppAlgos">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Sample Partitions of a Vector into Groups of Equal Size</h1>
    
    <div class="hidden name"><code>comboGroupsSample.Rd</code></div>
    </div>

    <div class="ref-description">
    <p></p><ul>
<li><p>Generate a specific (lexicographically) or random sample of partitions of groups of equal size.</p></li>
<li><p>Produce results in parallel using the <code>Parallel</code> or <code>nThreads</code> arguments.</p></li>
<li><p>GMP support allows for exploration where the number of results is large.</p></li>
</ul>

    </div>

    <pre class="usage"><span class='fu'>comboGroupsSample</span>(<span class='no'>v</span>, <span class='no'>numGroups</span>, <span class='kw'>retType</span> <span class='kw'>=</span> <span class='st'>"matrix"</span>, <span class='kw'>n</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
                  <span class='kw'>sampleVec</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>seed</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>Parallel</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
                  <span class='kw'>nThreads</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>namedSample</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>v</th>
      <td><p>Source vector. If <code>v</code> is an integer (including nonpositive integers), it will be converted to the sequence <code>1:v</code>. All atomic types are supported (See <code><a href='https://rdrr.io/r/base/is.recursive.html'>?is.atomic</a></code>).</p></td>
    </tr>
    <tr>
      <th>numGroups</th>
      <td><p>An Integer. The number of groups that the vector will be partitioned into. Must divide the length of v (if v is a vector) or v (if v is a scalar).</p></td>
    </tr>
    <tr>
      <th>retType</th>
      <td><p>A string, "3Darray" or "matrix", that determines the shape of the output. The default is "matrix".</p></td>
    </tr>
    <tr>
      <th>n</th>
      <td><p>Number of results to return. The default is <code>NULL</code>.</p></td>
    </tr>
    <tr>
      <th>sampleVec</th>
      <td><p>A vector of numbers representing the lexicographical partition of groups to return. Accepts vectors of class <code>bigz</code> as well as vectors of characters</p></td>
    </tr>
    <tr>
      <th>seed</th>
      <td><p>Random seed initialization. The default is <code>NULL</code>. N.B. If the gmp library is needed, this parameter must be set in order to have reproducible results (<em>E.g</em> <code><a href='https://rdrr.io/r/base/Random.html'>set.seed()</a></code> has no effect in these cases).</p></td>
    </tr>
    <tr>
      <th>Parallel</th>
      <td><p>Logical value indicating whether results should be generated in parallel. The default is <code>FALSE</code>. If <code>TRUE</code> and <code>nThreads = NULL</code>, the number of threads used is equal to the minimum of one minus the number of threads available on your system and the number of results requested (<em>e.g.</em> if user has 16 threads and only needs 5 results, 5 threads will be used (<em>i.e.</em> <code>min(16 - 1, 5) = 5</code>)). If <code>nThreads</code> is not <code>NULL</code>, it will be given preference (<em>e.g.</em> if user has 8 threads with <code>Parallel = TRUE</code> and <code>nThreads = 4</code>, only 4 threads will be spawned). If your system is single-threaded, the arguments <code>Parallel</code> and <code>nThreads</code> are ignored.</p></td>
    </tr>
    <tr>
      <th>nThreads</th>
      <td><p>Specific number of threads to be used. The default is <code>NULL</code>. See <code>Parallel</code>.</p></td>
    </tr>
    <tr>
      <th>namedSample</th>
      <td><p>Logical flag. If <code>TRUE</code>, <code>rownames</code> corresponding to the lexicographical partitions of groups of equal size, will be added to the returned matrix. The default is <code>FALSE</code>.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>These algorithms rely on efficiently generating the \(n^{th}\) lexicographical partition of groups of equal size.</p>
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>By default, a matrix is returned with column names corresponding to the associated group. If <code>retType = "3Darray"</code>, a 3D array is returned.</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p><a href='https://en.wikipedia.org/wiki/Lexicographical_order'>Lexicographical order</a></p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'>## generate 10 random partitions of groups</span>
<span class='fu'>comboGroupsSample</span>(<span class='fl'>10</span>, <span class='fl'>2</span>, <span class='kw'>n</span> <span class='kw'>=</span> <span class='fl'>10</span>, <span class='kw'>seed</span> <span class='kw'>=</span> <span class='fl'>123</span>)</div><div class='output co'>#&gt;       Grp1 Grp1 Grp1 Grp1 Grp1 Grp2 Grp2 Grp2 Grp2 Grp2
#&gt;  [1,]    1    2    4    7    8    3    5    6    9   10
#&gt;  [2,]    1    3    5    8    9    2    4    6    7   10
#&gt;  [3,]    1    2    6    8   10    3    4    5    7    9
#&gt;  [4,]    1    2    3    6    9    4    5    7    8   10
#&gt;  [5,]    1    3    4    7    9    2    5    6    8   10
#&gt;  [6,]    1    2    5    7    9    3    4    6    8   10
#&gt;  [7,]    1    2    6    8    9    3    4    5    7   10
#&gt;  [8,]    1    5    7    8    9    2    3    4    6   10
#&gt;  [9,]    1    2    5    7   10    3    4    6    8    9
#&gt; [10,]    1    4    5    9   10    2    3    6    7    8</div><div class='input'>
<span class='co'>## using sampleVec to generate specific results</span>
<span class='fu'>comboGroupsSample</span>(<span class='fl'>15</span>, <span class='fl'>5</span>, <span class='kw'>sampleVec</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>1</span>, <span class='fl'>100</span>, <span class='fl'>1e3</span>, <span class='fl'>1e6</span>))</div><div class='output co'>#&gt;      Grp1 Grp1 Grp1 Grp2 Grp2 Grp2 Grp3 Grp3 Grp3 Grp4 Grp4 Grp4 Grp5 Grp5 Grp5
#&gt; [1,]    1    2    3    4    5    6    7    8    9   10   11   12   13   14   15
#&gt; [2,]    1    2    3    4    5    6    7    9   12    8   14   15   10   11   13
#&gt; [3,]    1    2    3    4    5    9    6   10   13    7   14   15    8   11   12
#&gt; [4,]    1    8   10    2   12   15    3    5   13    4   11   14    6    7    9</div><div class='input'>
<span class='fu'><a href='https://rdrr.io/r/base/all.equal.html'>all.equal</a></span>(<span class='fu'>comboGroupsSample</span>(<span class='fl'>10</span>, <span class='fl'>5</span>,
            <span class='kw'>sampleVec</span> <span class='kw'>=</span> <span class='fl'>1</span>:<span class='fu'><a href='comboGroupsCount.html'>comboGroupsCount</a></span>(<span class='fl'>10</span>, <span class='fl'>5</span>)),
         <span class='fu'><a href='comboGroups.html'>comboGroups</a></span>(<span class='fl'>10</span>, <span class='fl'>5</span>))</div><div class='output co'>#&gt; [1] TRUE</div><div class='input'>
<span class='co'>## Examples with enormous number of total results</span>
<span class='no'>num</span> <span class='kw'>=</span> <span class='fu'><a href='comboGroupsCount.html'>comboGroupsCount</a></span>(<span class='fl'>100</span>, <span class='fl'>20</span>)
<span class='kw pkg'>gmp</span><span class='kw ns'>::</span><span class='fu'><a href='https://rdrr.io/pkg/gmp/man/add.biginteger.html'>log2.bigz</a></span>(<span class='no'>num</span>)</div><div class='output co'>#&gt; [1] 325.5498</div><div class='input'><span class='co'>## [1] 325.5498</span>

<span class='no'>first</span> <span class='kw'>=</span> <span class='kw pkg'>gmp</span><span class='kw ns'>::</span><span class='fu'><a href='https://rdrr.io/pkg/gmp/man/biginteger.rand.html'>urand.bigz</a></span>(<span class='kw'>n</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>size</span> <span class='kw'>=</span> <span class='fl'>325</span>, <span class='kw'>seed</span> <span class='kw'>=</span> <span class='fl'>123</span>)</div><div class='output co'>#&gt; Seed initialisation</div><div class='input'><span class='no'>mySamp</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/do.call.html'>do.call</a></span>(<span class='no'>c</span>, <span class='fu'><a href='https://rdrr.io/r/base/lapply.html'>lapply</a></span>(<span class='fl'>0</span>:<span class='fl'>10</span>, <span class='kw'>function</span>(<span class='no'>x</span>) <span class='kw pkg'>gmp</span><span class='kw ns'>::</span><span class='fu'><a href='https://rdrr.io/pkg/gmp/man/add.biginteger.html'>add.bigz</a></span>(<span class='no'>first</span>, <span class='no'>x</span>)))

<span class='fu'><a href='https://rdrr.io/r/base/class.html'>class</a></span>(<span class='no'>mySamp</span>)</div><div class='output co'>#&gt; [1] "bigz"</div><div class='input'><span class='co'>## [1] "bigz"</span>

<span class='co'>## using the sampling function</span>
<span class='no'>cbgSamp</span> <span class='kw'>=</span> <span class='fu'>comboGroupsSample</span>(<span class='fl'>100</span>, <span class='fl'>20</span>, <span class='kw'>sampleVec</span> <span class='kw'>=</span> <span class='no'>mySamp</span>)

<span class='co'>## using the standard function</span>
<span class='no'>cbgGeneral</span> <span class='kw'>=</span> <span class='fu'><a href='comboGroups.html'>comboGroups</a></span>(<span class='fl'>100</span>, <span class='fl'>20</span>,
                         <span class='kw'>lower</span> <span class='kw'>=</span> <span class='no'>first</span>,
                         <span class='kw'>upper</span> <span class='kw'>=</span> <span class='kw pkg'>gmp</span><span class='kw ns'>::</span><span class='fu'><a href='https://rdrr.io/pkg/gmp/man/add.biginteger.html'>add.bigz</a></span>(<span class='no'>first</span>, <span class='fl'>10</span>))

<span class='fu'><a href='https://rdrr.io/r/base/identical.html'>identical</a></span>(<span class='no'>cbgSamp</span>, <span class='no'>cbgGeneral</span>)</div><div class='output co'>#&gt; [1] TRUE</div><div class='input'><span class='co'>## [1] TRUE</span>

<span class='kw'>if</span> (<span class='fl'>FALSE</span>) {
<span class='co'>## Using Parallel</span>
<span class='fu'><a href='https://rdrr.io/r/base/system.time.html'>system.time</a></span>(<span class='fu'>comboGroupsSample</span>(<span class='fl'>1000</span>, <span class='fl'>20</span>, <span class='kw'>n</span> <span class='kw'>=</span> <span class='fl'>80</span>, <span class='kw'>seed</span> <span class='kw'>=</span> <span class='fl'>10</span>, <span class='kw'>Parallel</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>))
}</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#details">Details</a></li>
      <li><a href="#value">Value</a></li>
      <li><a href="#references">References</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    <p>Joseph Wood</p>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Joseph Wood.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


