<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>High Performance Benchmarks â€¢ RcppAlgos</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="High Performance Benchmarks">
<meta property="og:description" content="RcppAlgos">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">RcppAlgos</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2.5.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/CombPermConstraints.html">Constraints and Integer Partitions</a>
    </li>
    <li>
      <a href="../articles/CombinatorialSampling.html">Combinatorial Sampling</a>
    </li>
    <li>
      <a href="../articles/CombinatoricsIterators.html">Combinatorial Iterators in RcppAlgos</a>
    </li>
    <li>
      <a href="../articles/ComputationalMathematics.html">Computational Mathematics Overview</a>
    </li>
    <li>
      <a href="../articles/GeneralCombinatorics.html">Combination and Permutation Basics</a>
    </li>
    <li>
      <a href="../articles/HighPerformanceBenchmarks.html">High Performance Benchmarks</a>
    </li>
    <li>
      <a href="../articles/OtherCombinatorics.html">Cartesian Products and Partitions of Groups into Equal Size</a>
    </li>
    <li>
      <a href="../articles/SubsetSum.html">Attacking Problems Related to the Subset Sum Problem</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/jwood000/RcppAlgos/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>High Performance Benchmarks</h1>
                        <h4 data-toc-skip class="author">Joseph Wood</h4>
            
            <h4 data-toc-skip class="date">9/14/2021</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/jwood000/RcppAlgos/blob/HEAD/vignettes/HighPerformanceBenchmarks.Rmd" class="external-link"><code>vignettes/HighPerformanceBenchmarks.Rmd</code></a></small>
      <div class="hidden name"><code>HighPerformanceBenchmarks.Rmd</code></div>

    </div>

    
    
<p>This document serves as an overview for measuring the performance of <code>RcppAlgos</code> against other tools that were determined to be efficient for generating combinations and permutations from the benchmarks found here: <a href="https://stackoverflow.com/a/47983855/4408538" class="external-link">Permutations and combinations with/without replacement and for distinct/non-distinct items/multiset</a>. You will note that the examples in that post were relatively small. The benchmarks below will focus on larger examples where performance really matters and for this reason we only consider the packages <a href="https://cran.r-project.org/package=arrangements" class="external-link">arrangements</a>, <a href="https://cran.r-project.org/package=partitions" class="external-link">partitions</a>, and <a href="https://cran.r-project.org/package=RcppAlgos" class="external-link">RcppAlgos</a>.</p>
<div class="section level2">
<h2 id="setup-information">Setup Information<a class="anchor" aria-label="anchor" href="#setup-information"></a>
</h2>
<p>For the benchmarks below, we used a <code>Macbook Pro i7 16Gb</code> machine. We also tested on a Windows and Linux machine with similar specs and obtained similar results.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/jwood000/RcppAlgos" class="external-link">RcppAlgos</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/RobinHankin/partitions" class="external-link">partitions</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/randy3k/arrangements" class="external-link">arrangements</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/joshuaulrich/microbenchmark/" class="external-link">microbenchmark</a></span><span class="op">)</span>
<span class="va">pertinent_output</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/capture.output.html" class="external-link">capture.output</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/sessionInfo.html" class="external-link">sessionInfo</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>digits <span class="op">=</span> <span class="fl">4</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">pertinent_output</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span>, collapse <span class="op">=</span> <span class="st">"\n"</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; R version 3.6.2 (2019-12-12)</span>
<span class="co">#&gt; Platform: x86_64-apple-darwin15.6.0 (64-bit)</span>
<span class="co">#&gt; Running under: macOS Mojave 10.14.6</span>

<span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="va">pertinent_output</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/which.html" class="external-link">which</a></span><span class="op">(</span><span class="va">pertinent_output</span> <span class="op">==</span> <span class="st">"other attached packages:"</span><span class="op">)</span> <span class="op">+</span> <span class="fl">1L</span><span class="op">]</span><span class="op">)</span>
<span class="co">#&gt; [1] microbenchmark_1.4-7 partitions_1.9-22    arrangements_1.1.9   RcppAlgos_2.5.0</span>

<span class="va">numThreads</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/integer.html" class="external-link">as.integer</a></span><span class="op">(</span><span class="fu">RcppAlgos</span><span class="fu">::</span><span class="fu"><a href="../reference/stdThreadMax.html">stdThreadMax</a></span><span class="op">(</span><span class="op">)</span> <span class="op">/</span> <span class="fl">2</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/pkg/partitions/man/print.partition.html" class="external-link">print</a></span><span class="op">(</span><span class="va">numThreads</span><span class="op">)</span>
<span class="co">#&gt; [1] 4</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="combinations">Combinations<a class="anchor" aria-label="anchor" href="#combinations"></a>
</h2>
<div class="section level3">
<h3 id="combinations---distinct">Combinations - Distinct<a class="anchor" aria-label="anchor" href="#combinations---distinct"></a>
</h3>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">13</span><span class="op">)</span>
<span class="va">v1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sort.html" class="external-link">sort</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fl">100</span>, <span class="fl">30</span><span class="op">)</span><span class="op">)</span>
<span class="va">m</span> <span class="op">&lt;-</span> <span class="fl">21</span>
<span class="va">t1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/combinatoricsGeneral.html">comboGeneral</a></span><span class="op">(</span><span class="va">v1</span>, <span class="va">m</span>, Parallel <span class="op">=</span> <span class="cn">T</span><span class="op">)</span>
<span class="va">t2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/arrangements/man/combinations.html" class="external-link">combinations</a></span><span class="op">(</span><span class="va">v1</span>, <span class="va">m</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/identical.html" class="external-link">identical</a></span><span class="op">(</span><span class="va">t1</span>, <span class="va">t2</span><span class="op">)</span>
<span class="co">#&gt; [1] TRUE</span>
<span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="va">t1</span><span class="op">)</span>
<span class="co">#&gt; [1] 14307150       21</span>
<span class="fu"><a href="https://rdrr.io/r/base/rm.html" class="external-link">rm</a></span><span class="op">(</span><span class="va">t1</span>, <span class="va">t2</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/invisible.html" class="external-link">invisible</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/gc.html" class="external-link">gc</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/pkg/microbenchmark/man/microbenchmark.html" class="external-link">microbenchmark</a></span><span class="op">(</span>cbRcppAlgosPar <span class="op">=</span> <span class="fu"><a href="../reference/combinatoricsGeneral.html">comboGeneral</a></span><span class="op">(</span><span class="va">v1</span>, <span class="va">m</span>, nThreads <span class="op">=</span> <span class="va">numThreads</span><span class="op">)</span>,
               cbRcppAlgosSer <span class="op">=</span> <span class="fu"><a href="../reference/combinatoricsGeneral.html">comboGeneral</a></span><span class="op">(</span><span class="va">v1</span>, <span class="va">m</span><span class="op">)</span>,
               cbArrangements <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/arrangements/man/combinations.html" class="external-link">combinations</a></span><span class="op">(</span><span class="va">v1</span>, <span class="va">m</span><span class="op">)</span>,
               times <span class="op">=</span> <span class="fl">15</span>, unit <span class="op">=</span> <span class="st">"relative"</span><span class="op">)</span>
<span class="co">## Unit: relative</span>
<span class="co">##            expr   min    lq  mean median    uq   max neval cld</span>
<span class="co">##  cbRcppAlgosPar 1.000 1.000 1.000  1.000 1.000 1.000    15  a</span>
<span class="co">##  cbRcppAlgosSer 3.328 2.354 2.380  2.342 2.291 2.299    15   b</span>
<span class="co">##  cbArrangements 3.346 2.374 2.397  2.375 2.323 2.264    15   b</span></code></pre></div>
</div>
<div class="section level3">
<h3 id="combinations---repetition">Combinations - Repetition<a class="anchor" aria-label="anchor" href="#combinations---repetition"></a>
</h3>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">v2</span> <span class="op">&lt;-</span> <span class="va">v1</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">]</span>
<span class="va">m</span> <span class="op">&lt;-</span> <span class="fl">20</span>
<span class="va">t1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/combinatoricsGeneral.html">comboGeneral</a></span><span class="op">(</span><span class="va">v2</span>, <span class="va">m</span>, repetition <span class="op">=</span> <span class="cn">TRUE</span>, nThreads <span class="op">=</span> <span class="va">numThreads</span><span class="op">)</span>
<span class="va">t2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/arrangements/man/combinations.html" class="external-link">combinations</a></span><span class="op">(</span><span class="va">v2</span>, <span class="va">m</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/identical.html" class="external-link">identical</a></span><span class="op">(</span><span class="va">t1</span>, <span class="va">t2</span><span class="op">)</span>
<span class="co">#&gt; [1] TRUE</span>
<span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="va">t1</span><span class="op">)</span>
<span class="co">#&gt; [1] 10015005       20</span>
<span class="fu"><a href="https://rdrr.io/r/base/rm.html" class="external-link">rm</a></span><span class="op">(</span><span class="va">t1</span>, <span class="va">t2</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/invisible.html" class="external-link">invisible</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/gc.html" class="external-link">gc</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/pkg/microbenchmark/man/microbenchmark.html" class="external-link">microbenchmark</a></span><span class="op">(</span>cbRcppAlgosPar <span class="op">=</span> <span class="fu"><a href="../reference/combinatoricsGeneral.html">comboGeneral</a></span><span class="op">(</span><span class="va">v2</span>, <span class="va">m</span>, <span class="cn">TRUE</span>, nThreads <span class="op">=</span> <span class="va">numThreads</span><span class="op">)</span>,
               cbRcppAlgosSer <span class="op">=</span> <span class="fu"><a href="../reference/combinatoricsGeneral.html">comboGeneral</a></span><span class="op">(</span><span class="va">v2</span>, <span class="va">m</span>, <span class="cn">TRUE</span><span class="op">)</span>,
               cbArrangements <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/arrangements/man/combinations.html" class="external-link">combinations</a></span><span class="op">(</span><span class="va">v2</span>, <span class="va">m</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,
               times <span class="op">=</span> <span class="fl">15</span>, unit <span class="op">=</span> <span class="st">"relative"</span><span class="op">)</span>
<span class="co">## Unit: relative</span>
<span class="co">##            expr   min    lq  mean median    uq   max neval cld</span>
<span class="co">##  cbRcppAlgosPar 1.000 1.000 1.000  1.000 1.000 1.000    15 a</span>
<span class="co">##  cbRcppAlgosSer 2.050 2.255 2.211  2.232 2.214 2.146    15  b</span>
<span class="co">##  cbArrangements 2.298 2.274 2.259  2.283 2.252 2.200    15   c</span></code></pre></div>
</div>
<div class="section level3">
<h3 id="combinations---multisets">Combinations - Multisets<a class="anchor" aria-label="anchor" href="#combinations---multisets"></a>
</h3>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">myFreqs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">4</span>, <span class="fl">4</span>, <span class="fl">5</span>, <span class="fl">3</span>, <span class="fl">2</span>, <span class="fl">2</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">4</span>, <span class="fl">1</span>, <span class="fl">4</span>, <span class="fl">2</span>, <span class="fl">5</span><span class="op">)</span>
<span class="va">v3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/integer.html" class="external-link">as.integer</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">5</span>, <span class="fl">8</span>, <span class="fl">13</span>, <span class="fl">21</span>, <span class="fl">34</span>, <span class="fl">55</span>, <span class="fl">89</span>, <span class="fl">144</span>, <span class="fl">233</span>, <span class="fl">377</span>, <span class="fl">610</span><span class="op">)</span><span class="op">)</span>
<span class="va">t1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/combinatoricsGeneral.html">comboGeneral</a></span><span class="op">(</span><span class="va">v3</span>, <span class="fl">20</span>, freqs <span class="op">=</span> <span class="va">myFreqs</span>, nThreads <span class="op">=</span> <span class="va">numThreads</span><span class="op">)</span>
<span class="va">t2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/arrangements/man/combinations.html" class="external-link">combinations</a></span><span class="op">(</span>freq <span class="op">=</span> <span class="va">myFreqs</span>, k <span class="op">=</span> <span class="fl">20</span>, x <span class="op">=</span> <span class="va">v3</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/identical.html" class="external-link">identical</a></span><span class="op">(</span><span class="va">t1</span>, <span class="va">t2</span><span class="op">)</span>
<span class="co">#&gt; [1] TRUE</span>
<span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="va">t1</span><span class="op">)</span>
<span class="co">#&gt; [1] 14594082       20</span>
<span class="fu"><a href="https://rdrr.io/r/base/rm.html" class="external-link">rm</a></span><span class="op">(</span><span class="va">t1</span>, <span class="va">t2</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/invisible.html" class="external-link">invisible</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/gc.html" class="external-link">gc</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/pkg/microbenchmark/man/microbenchmark.html" class="external-link">microbenchmark</a></span><span class="op">(</span>cbRcppAlgosPar <span class="op">=</span> <span class="fu"><a href="../reference/combinatoricsGeneral.html">comboGeneral</a></span><span class="op">(</span><span class="va">v3</span>, <span class="fl">20</span>, freqs <span class="op">=</span> <span class="va">myFreqs</span>, nThreads <span class="op">=</span> <span class="va">numThreads</span><span class="op">)</span>,
               cbRcppAlgosSer <span class="op">=</span> <span class="fu"><a href="../reference/combinatoricsGeneral.html">comboGeneral</a></span><span class="op">(</span><span class="va">v3</span>, <span class="fl">20</span>, freqs <span class="op">=</span> <span class="va">myFreqs</span><span class="op">)</span>,
               cbArrangements <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/arrangements/man/combinations.html" class="external-link">combinations</a></span><span class="op">(</span>freq <span class="op">=</span> <span class="va">myFreqs</span>, k <span class="op">=</span> <span class="fl">20</span>, x <span class="op">=</span> <span class="va">v3</span><span class="op">)</span>,
               times <span class="op">=</span> <span class="fl">10</span>, unit <span class="op">=</span> <span class="st">"relative"</span><span class="op">)</span>
<span class="co">## Unit: relative</span>
<span class="co">##            expr   min    lq  mean median    uq   max neval cld</span>
<span class="co">##  cbRcppAlgosPar 1.000 1.000 1.000  1.000 1.000 1.000    10 a</span>
<span class="co">##  cbRcppAlgosSer 2.407 2.421 2.391  2.385 2.356 2.373    10  b</span>
<span class="co">##  cbArrangements 3.601 3.808 3.730  3.746 3.699 3.703    10   c</span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="permutations">Permutations<a class="anchor" aria-label="anchor" href="#permutations"></a>
</h2>
<div class="section level3">
<h3 id="permutations---distinct">Permutations - Distinct<a class="anchor" aria-label="anchor" href="#permutations---distinct"></a>
</h3>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">v4</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/integer.html" class="external-link">as.integer</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">5</span>, <span class="fl">7</span>, <span class="fl">11</span>, <span class="fl">13</span>, <span class="fl">17</span>, <span class="fl">19</span>, <span class="fl">23</span>, <span class="fl">29</span>, <span class="fl">31</span>, <span class="fl">37</span>, <span class="fl">41</span>, <span class="fl">43</span>, <span class="fl">47</span>, <span class="fl">53</span>, <span class="fl">59</span><span class="op">)</span><span class="op">)</span>
<span class="va">t1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/combinatoricsGeneral.html">permuteGeneral</a></span><span class="op">(</span><span class="va">v4</span>, <span class="fl">6</span>, nThreads <span class="op">=</span> <span class="va">numThreads</span><span class="op">)</span>
<span class="va">t2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/arrangements/man/permutations.html" class="external-link">permutations</a></span><span class="op">(</span><span class="va">v4</span>, <span class="fl">6</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/identical.html" class="external-link">identical</a></span><span class="op">(</span><span class="va">t1</span>, <span class="va">t2</span><span class="op">)</span>
<span class="co">#&gt; [1] TRUE</span>
<span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="va">t1</span><span class="op">)</span>
<span class="co">#&gt; [1] 8910720       6</span>
<span class="fu"><a href="https://rdrr.io/r/base/rm.html" class="external-link">rm</a></span><span class="op">(</span><span class="va">t1</span>, <span class="va">t2</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/invisible.html" class="external-link">invisible</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/gc.html" class="external-link">gc</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/pkg/microbenchmark/man/microbenchmark.html" class="external-link">microbenchmark</a></span><span class="op">(</span>cbRcppAlgosPar <span class="op">=</span> <span class="fu"><a href="../reference/combinatoricsGeneral.html">permuteGeneral</a></span><span class="op">(</span><span class="va">v4</span>, <span class="fl">6</span>, nThreads <span class="op">=</span> <span class="va">numThreads</span><span class="op">)</span>,
               cbRcppAlgosSer <span class="op">=</span> <span class="fu"><a href="../reference/combinatoricsGeneral.html">permuteGeneral</a></span><span class="op">(</span><span class="va">v4</span>, <span class="fl">6</span><span class="op">)</span>,
               cbArrangements <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/arrangements/man/permutations.html" class="external-link">permutations</a></span><span class="op">(</span><span class="va">v4</span>, <span class="fl">6</span><span class="op">)</span>,
               times <span class="op">=</span> <span class="fl">15</span>, unit <span class="op">=</span> <span class="st">"relative"</span><span class="op">)</span>
<span class="co">## Unit: relative</span>
<span class="co">##            expr   min    lq  mean median    uq   max neval cld</span>
<span class="co">##  cbRcppAlgosPar 1.000 1.000 1.000  1.000 1.000 1.000    15 a</span>
<span class="co">##  cbRcppAlgosSer 2.318 2.274 2.120  2.155 2.153 1.715    15  b</span>
<span class="co">##  cbArrangements 3.244 3.112 2.848  2.951 3.379 1.881    15   c</span>


<span class="co">## Indexing permutation example with the partitions package</span>
<span class="va">t1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/combinatoricsGeneral.html">permuteGeneral</a></span><span class="op">(</span><span class="fl">11</span>, nThreads <span class="op">=</span> <span class="fl">4</span><span class="op">)</span>
<span class="va">t2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/arrangements/man/permutations.html" class="external-link">permutations</a></span><span class="op">(</span><span class="fl">11</span><span class="op">)</span>
<span class="va">t3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/partitions/man/perms.html" class="external-link">perms</a></span><span class="op">(</span><span class="fl">11</span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="va">t1</span><span class="op">)</span>
<span class="co">#&gt; [1] 39916800       11</span>

<span class="fu"><a href="https://rdrr.io/r/base/identical.html" class="external-link">identical</a></span><span class="op">(</span><span class="va">t1</span>, <span class="va">t2</span><span class="op">)</span>
<span class="co">#&gt; [1] TRUE</span>
<span class="fu"><a href="https://rdrr.io/r/base/identical.html" class="external-link">identical</a></span><span class="op">(</span><span class="va">t1</span>, <span class="fu"><a href="https://rdrr.io/r/base/t.html" class="external-link">t</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">as.matrix</a></span><span class="op">(</span><span class="va">t3</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; [1] TRUE</span>
<span class="fu"><a href="https://rdrr.io/r/base/rm.html" class="external-link">rm</a></span><span class="op">(</span><span class="va">t1</span>, <span class="va">t2</span>, <span class="va">t3</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/invisible.html" class="external-link">invisible</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/gc.html" class="external-link">gc</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/pkg/microbenchmark/man/microbenchmark.html" class="external-link">microbenchmark</a></span><span class="op">(</span>cbRcppAlgosPar <span class="op">=</span> <span class="fu"><a href="../reference/combinatoricsGeneral.html">permuteGeneral</a></span><span class="op">(</span><span class="fl">11</span>, nThreads <span class="op">=</span> <span class="fl">4</span><span class="op">)</span>,
               cbRcppAlgosSer <span class="op">=</span> <span class="fu"><a href="../reference/combinatoricsGeneral.html">permuteGeneral</a></span><span class="op">(</span><span class="fl">11</span><span class="op">)</span>,
               cbArrangements <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/arrangements/man/permutations.html" class="external-link">permutations</a></span><span class="op">(</span><span class="fl">11</span><span class="op">)</span>,
               cbPartitions   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/partitions/man/perms.html" class="external-link">perms</a></span><span class="op">(</span><span class="fl">11</span><span class="op">)</span>,
               times <span class="op">=</span> <span class="fl">5</span>, unit <span class="op">=</span> <span class="st">"relative"</span><span class="op">)</span>
<span class="co">## Unit: relative</span>
<span class="co">##            expr   min    lq  mean median    uq   max neval cld</span>
<span class="co">##  cbRcppAlgosPar 1.000 1.000 1.000  1.000 1.000 1.000     5 a</span>
<span class="co">##  cbRcppAlgosSer 2.970 2.974 2.423  2.981 1.668 2.285     5  b</span>
<span class="co">##  cbArrangements 3.432 3.421 2.649  3.355 2.007 2.077     5  b</span>
<span class="co">##    cbPartitions 9.793 9.977 7.625 10.065 5.678 5.830     5   c</span></code></pre></div>
</div>
<div class="section level3">
<h3 id="permutations---repetition">Permutations - Repetition<a class="anchor" aria-label="anchor" href="#permutations---repetition"></a>
</h3>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">v5</span> <span class="op">&lt;-</span> <span class="va">v3</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">]</span>
<span class="va">t1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/combinatoricsGeneral.html">permuteGeneral</a></span><span class="op">(</span><span class="va">v5</span>, <span class="fl">10</span>, repetition <span class="op">=</span> <span class="cn">TRUE</span>, nThreads <span class="op">=</span> <span class="va">numThreads</span><span class="op">)</span>
<span class="va">t2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/arrangements/man/permutations.html" class="external-link">permutations</a></span><span class="op">(</span><span class="va">v5</span>, <span class="fl">10</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/identical.html" class="external-link">identical</a></span><span class="op">(</span><span class="va">t1</span>, <span class="va">t2</span><span class="op">)</span>
<span class="co">#&gt; [1] TRUE</span>
<span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="va">t1</span><span class="op">)</span>
<span class="co">#&gt; [1] 9765625      10</span>
<span class="fu"><a href="https://rdrr.io/r/base/rm.html" class="external-link">rm</a></span><span class="op">(</span><span class="va">t1</span>, <span class="va">t2</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/invisible.html" class="external-link">invisible</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/gc.html" class="external-link">gc</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/pkg/microbenchmark/man/microbenchmark.html" class="external-link">microbenchmark</a></span><span class="op">(</span>cbRcppAlgosPar <span class="op">=</span> <span class="fu"><a href="../reference/combinatoricsGeneral.html">permuteGeneral</a></span><span class="op">(</span><span class="va">v5</span>, <span class="fl">10</span>, <span class="cn">TRUE</span>, nThreads <span class="op">=</span> <span class="va">numThreads</span><span class="op">)</span>,
               cbRcppAlgosSer <span class="op">=</span> <span class="fu"><a href="../reference/combinatoricsGeneral.html">permuteGeneral</a></span><span class="op">(</span><span class="va">v5</span>, <span class="fl">10</span>, <span class="cn">TRUE</span><span class="op">)</span>,
               cbArrangements <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/arrangements/man/permutations.html" class="external-link">permutations</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">v5</span>, k <span class="op">=</span> <span class="fl">10</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,
               times <span class="op">=</span> <span class="fl">10</span>, unit <span class="op">=</span> <span class="st">"relative"</span><span class="op">)</span>
<span class="co">## Unit: relative</span>
<span class="co">##            expr   min    lq  mean median    uq   max neval cld</span>
<span class="co">##  cbRcppAlgosPar 1.000 1.000 1.000  1.000 1.000 1.000    10  a</span>
<span class="co">##  cbRcppAlgosSer 3.038 2.975 3.867  2.875 2.944 7.107    10   b</span>
<span class="co">##  cbArrangements 3.017 2.968 2.882  2.876 2.819 2.697    10   b</span></code></pre></div>
</div>
<div class="section level3">
<h3 id="permutations---multisets">Permutations - Multisets<a class="anchor" aria-label="anchor" href="#permutations---multisets"></a>
</h3>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">v6</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sort.html" class="external-link">sort</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">12</span><span class="op">)</span><span class="op">)</span>
<span class="va">t1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/combinatoricsGeneral.html">permuteGeneral</a></span><span class="op">(</span><span class="va">v6</span>, <span class="fl">7</span>, freqs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, <span class="fl">4</span><span class="op">)</span>, nThreads <span class="op">=</span> <span class="va">numThreads</span><span class="op">)</span>
<span class="va">t2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/arrangements/man/permutations.html" class="external-link">permutations</a></span><span class="op">(</span>freq <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, <span class="fl">4</span><span class="op">)</span>, k <span class="op">=</span> <span class="fl">7</span>, x <span class="op">=</span> <span class="va">v6</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/identical.html" class="external-link">identical</a></span><span class="op">(</span><span class="va">t1</span>, <span class="va">t2</span><span class="op">)</span>
<span class="co">#&gt; [1] TRUE</span>
<span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="va">t1</span><span class="op">)</span>
<span class="co">#&gt; [1] 19520760        7</span>
<span class="fu"><a href="https://rdrr.io/r/base/rm.html" class="external-link">rm</a></span><span class="op">(</span><span class="va">t1</span>, <span class="va">t2</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/invisible.html" class="external-link">invisible</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/gc.html" class="external-link">gc</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/pkg/microbenchmark/man/microbenchmark.html" class="external-link">microbenchmark</a></span><span class="op">(</span>cbRcppAlgosPar <span class="op">=</span> <span class="fu"><a href="../reference/combinatoricsGeneral.html">permuteGeneral</a></span><span class="op">(</span><span class="va">v6</span>, <span class="fl">7</span>, freqs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, <span class="fl">4</span><span class="op">)</span>, nThreads <span class="op">=</span> <span class="va">numThreads</span><span class="op">)</span>,
               cbRcppAlgosSer <span class="op">=</span> <span class="fu"><a href="../reference/combinatoricsGeneral.html">permuteGeneral</a></span><span class="op">(</span><span class="va">v6</span>, <span class="fl">7</span>, freqs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, <span class="fl">4</span><span class="op">)</span><span class="op">)</span>,
               cbArrangements <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/arrangements/man/permutations.html" class="external-link">permutations</a></span><span class="op">(</span>freq <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, <span class="fl">4</span><span class="op">)</span>, k <span class="op">=</span> <span class="fl">7</span>, x <span class="op">=</span> <span class="va">v6</span><span class="op">)</span>,
               times <span class="op">=</span> <span class="fl">10</span>, unit <span class="op">=</span> <span class="st">"relative"</span><span class="op">)</span>
<span class="co">## Unit: relative</span>
<span class="co">##            expr   min    lq  mean median   uq   max neval cld</span>
<span class="co">##  cbRcppAlgosPar 1.000 1.000 1.000  1.000 1.00 1.000    10  a</span>
<span class="co">##  cbRcppAlgosSer 3.088 3.032 2.105  2.989 1.26 1.808    10   b</span>
<span class="co">##  cbArrangements 3.271 3.231 2.307  3.159 1.88 1.894    10   b</span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="partitions">Partitions<a class="anchor" aria-label="anchor" href="#partitions"></a>
</h2>
<div class="section level3">
<h3 id="partitions---distinct">Partitions - Distinct<a class="anchor" aria-label="anchor" href="#partitions---distinct"></a>
</h3>
<div class="section level4">
<h4 id="all-distinct-partitions">All Distinct Partitions<a class="anchor" aria-label="anchor" href="#all-distinct-partitions"></a>
</h4>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">t1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/combinatoricsGeneral.html">comboGeneral</a></span><span class="op">(</span><span class="fl">0</span><span class="op">:</span><span class="fl">140</span>, freqs<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">140</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">140</span><span class="op">)</span><span class="op">)</span>,
                   constraintFun <span class="op">=</span> <span class="st">"sum"</span>, comparisonFun <span class="op">=</span> <span class="st">"=="</span>,
                   limitConstraints <span class="op">=</span> <span class="fl">140</span><span class="op">)</span>
<span class="va">t2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/partitions/man/partitions.package.html" class="external-link">partitions</a></span><span class="op">(</span><span class="fl">140</span>, distinct <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="va">t3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/partitions/man/parts.html" class="external-link">diffparts</a></span><span class="op">(</span><span class="fl">140</span><span class="op">)</span>

<span class="co"># Each package has different output formats... we only examine dimensions</span>
<span class="co"># and that each result is a partition of 140</span>
<span class="fu"><a href="https://rdrr.io/r/base/identical.html" class="external-link">identical</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="va">t1</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="va">t2</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; [1] TRUE</span>
<span class="fu"><a href="https://rdrr.io/r/base/identical.html" class="external-link">identical</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="va">t1</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/t.html" class="external-link">t</a></span><span class="op">(</span><span class="va">t3</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; [1] TRUE</span>
<span class="fu"><a href="https://rdrr.io/r/base/all.html" class="external-link">all</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/colSums.html" class="external-link">rowSums</a></span><span class="op">(</span><span class="va">t1</span><span class="op">)</span> <span class="op">==</span> <span class="fl">140</span><span class="op">)</span>
<span class="co">#&gt; [1] TRUE</span>
<span class="fu"><a href="https://rdrr.io/r/base/all.html" class="external-link">all</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/colSums.html" class="external-link">rowSums</a></span><span class="op">(</span><span class="va">t2</span><span class="op">)</span> <span class="op">==</span> <span class="fl">140</span><span class="op">)</span>
<span class="co">#&gt; [1] TRUE</span>
<span class="fu"><a href="https://rdrr.io/r/base/all.html" class="external-link">all</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/colSums.html" class="external-link">colSums</a></span><span class="op">(</span><span class="va">t3</span><span class="op">)</span> <span class="op">==</span> <span class="fl">140</span><span class="op">)</span>
<span class="co">#&gt; [1] TRUE</span>

<span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="va">t1</span><span class="op">)</span>
<span class="co">#&gt; [1] 9617150      16</span>
<span class="fu"><a href="https://rdrr.io/r/base/rm.html" class="external-link">rm</a></span><span class="op">(</span><span class="va">t1</span>, <span class="va">t2</span>, <span class="va">t3</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/invisible.html" class="external-link">invisible</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/gc.html" class="external-link">gc</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/pkg/microbenchmark/man/microbenchmark.html" class="external-link">microbenchmark</a></span><span class="op">(</span>cbRcppAlgosPar <span class="op">=</span> <span class="fu"><a href="../reference/partitionsGeneral.html">partitionsGeneral</a></span><span class="op">(</span><span class="fl">0</span><span class="op">:</span><span class="fl">140</span>, freqs<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">140</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">140</span><span class="op">)</span><span class="op">)</span>, nThreads <span class="op">=</span> <span class="va">numThreads</span><span class="op">)</span>,
               cbRcppAlgosSer <span class="op">=</span> <span class="fu"><a href="../reference/partitionsGeneral.html">partitionsGeneral</a></span><span class="op">(</span><span class="fl">0</span><span class="op">:</span><span class="fl">140</span>, freqs<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">140</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">140</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>,
               cbArrangements <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/partitions/man/partitions.package.html" class="external-link">partitions</a></span><span class="op">(</span><span class="fl">140</span>, distinct <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,
               cbPartitions   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/partitions/man/parts.html" class="external-link">diffparts</a></span><span class="op">(</span><span class="fl">140</span><span class="op">)</span>,
               times <span class="op">=</span> <span class="fl">10</span>, unit <span class="op">=</span> <span class="st">"relative"</span><span class="op">)</span>
<span class="co">## Unit: relative</span>
<span class="co">##            expr    min     lq   mean median     uq    max neval cld</span>
<span class="co">##  cbRcppAlgosPar  1.000  1.000  1.000  1.000  1.000  1.000    10 a</span>
<span class="co">##  cbRcppAlgosSer  2.848  2.790  2.543  2.728  2.410  2.356    10  b</span>
<span class="co">##  cbArrangements  2.633  2.577  2.392  2.570  2.201  2.253    10  b</span>
<span class="co">##    cbPartitions 18.697 18.888 15.238 18.746 11.744 11.972    10   c</span></code></pre></div>
</div>
<div class="section level4">
<h4 id="restricted-distinct-partitions">Restricted Distinct Partitions<a class="anchor" aria-label="anchor" href="#restricted-distinct-partitions"></a>
</h4>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">t1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/combinatoricsGeneral.html">comboGeneral</a></span><span class="op">(</span><span class="fl">160</span>, <span class="fl">10</span>,
                   constraintFun <span class="op">=</span> <span class="st">"sum"</span>, comparisonFun <span class="op">=</span> <span class="st">"=="</span>,
                   limitConstraints <span class="op">=</span> <span class="fl">160</span><span class="op">)</span>
<span class="va">t2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/partitions/man/partitions.package.html" class="external-link">partitions</a></span><span class="op">(</span><span class="fl">160</span>, <span class="fl">10</span>, distinct <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/identical.html" class="external-link">identical</a></span><span class="op">(</span><span class="va">t1</span>, <span class="va">t2</span><span class="op">)</span>
<span class="co">#&gt; [1] TRUE</span>
<span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="va">t1</span><span class="op">)</span>
<span class="co">#&gt; [1] 8942920      10</span>
<span class="fu"><a href="https://rdrr.io/r/base/rm.html" class="external-link">rm</a></span><span class="op">(</span><span class="va">t1</span>, <span class="va">t2</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/invisible.html" class="external-link">invisible</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/gc.html" class="external-link">gc</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/pkg/microbenchmark/man/microbenchmark.html" class="external-link">microbenchmark</a></span><span class="op">(</span>cbRcppAlgosPar <span class="op">=</span> <span class="fu"><a href="../reference/partitionsGeneral.html">partitionsGeneral</a></span><span class="op">(</span><span class="fl">160</span>, <span class="fl">10</span>, nThreads <span class="op">=</span> <span class="va">numThreads</span><span class="op">)</span>,
               cbRcppAlgosSer <span class="op">=</span> <span class="fu"><a href="../reference/partitionsGeneral.html">partitionsGeneral</a></span><span class="op">(</span><span class="fl">160</span>, <span class="fl">10</span><span class="op">)</span>,
               cbArrangements <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/partitions/man/partitions.package.html" class="external-link">partitions</a></span><span class="op">(</span><span class="fl">160</span>, <span class="fl">10</span>, distinct <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,
               times <span class="op">=</span> <span class="fl">10</span>, unit <span class="op">=</span> <span class="st">"relative"</span><span class="op">)</span>
<span class="co">## Unit: relative</span>
<span class="co">##            expr   min    lq  mean median    uq   max neval cld</span>
<span class="co">##  cbRcppAlgosPar 1.000 1.000 1.000  1.000 1.000 1.000    10  a</span>
<span class="co">##  cbRcppAlgosSer 2.924 2.889 2.097  2.838 1.113 1.620    10   b</span>
<span class="co">##  cbArrangements 3.210 3.178 2.065  3.150 1.209 1.128    10   b</span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="partitions---repetition">Partitions - Repetition<a class="anchor" aria-label="anchor" href="#partitions---repetition"></a>
</h3>
<div class="section level4">
<h4 id="all-partitions">All Partitions<a class="anchor" aria-label="anchor" href="#all-partitions"></a>
</h4>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">t1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/combinatoricsGeneral.html">comboGeneral</a></span><span class="op">(</span><span class="fl">0</span><span class="op">:</span><span class="fl">65</span>, repetition <span class="op">=</span> <span class="cn">TRUE</span>, constraintFun <span class="op">=</span> <span class="st">"sum"</span>,
                   comparisonFun <span class="op">=</span> <span class="st">"=="</span>, limitConstraints <span class="op">=</span> <span class="fl">65</span><span class="op">)</span>
<span class="va">t2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/partitions/man/partitions.package.html" class="external-link">partitions</a></span><span class="op">(</span><span class="fl">65</span><span class="op">)</span>
<span class="va">t3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/partitions/man/parts.html" class="external-link">parts</a></span><span class="op">(</span><span class="fl">65</span><span class="op">)</span>

<span class="co"># Each package has different output formats... we only dimensions</span>
<span class="co"># and that each result is a partition of 65</span>
<span class="fu"><a href="https://rdrr.io/r/base/identical.html" class="external-link">identical</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="va">t1</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="va">t2</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; [1] TRUE</span>
<span class="fu"><a href="https://rdrr.io/r/base/identical.html" class="external-link">identical</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="va">t1</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/t.html" class="external-link">t</a></span><span class="op">(</span><span class="va">t3</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; [1] TRUE</span>
<span class="fu"><a href="https://rdrr.io/r/base/all.html" class="external-link">all</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/colSums.html" class="external-link">rowSums</a></span><span class="op">(</span><span class="va">t1</span><span class="op">)</span> <span class="op">==</span> <span class="fl">65</span><span class="op">)</span>
<span class="co">#&gt; [1] TRUE</span>
<span class="fu"><a href="https://rdrr.io/r/base/all.html" class="external-link">all</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/colSums.html" class="external-link">rowSums</a></span><span class="op">(</span><span class="va">t2</span><span class="op">)</span> <span class="op">==</span> <span class="fl">65</span><span class="op">)</span>
<span class="co">#&gt; [1] TRUE</span>
<span class="fu"><a href="https://rdrr.io/r/base/all.html" class="external-link">all</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/colSums.html" class="external-link">colSums</a></span><span class="op">(</span><span class="va">t3</span><span class="op">)</span> <span class="op">==</span> <span class="fl">65</span><span class="op">)</span>
<span class="co">#&gt; [1] TRUE</span>
<span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="va">t1</span><span class="op">)</span>
<span class="co">#&gt; [1] 2012558      65</span>
<span class="fu"><a href="https://rdrr.io/r/base/rm.html" class="external-link">rm</a></span><span class="op">(</span><span class="va">t1</span>, <span class="va">t2</span>, <span class="va">t3</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/invisible.html" class="external-link">invisible</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/gc.html" class="external-link">gc</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/pkg/microbenchmark/man/microbenchmark.html" class="external-link">microbenchmark</a></span><span class="op">(</span>cbRcppAlgosPar <span class="op">=</span> <span class="fu"><a href="../reference/partitionsGeneral.html">partitionsGeneral</a></span><span class="op">(</span><span class="fl">0</span><span class="op">:</span><span class="fl">65</span>, repetition <span class="op">=</span> <span class="cn">TRUE</span>,
                                                  nThreads <span class="op">=</span> <span class="va">numThreads</span><span class="op">)</span>,
               cbRcppAlgosSer <span class="op">=</span> <span class="fu"><a href="../reference/partitionsGeneral.html">partitionsGeneral</a></span><span class="op">(</span><span class="fl">0</span><span class="op">:</span><span class="fl">65</span>, repetition <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,
               cbArrangements <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/partitions/man/partitions.package.html" class="external-link">partitions</a></span><span class="op">(</span><span class="fl">65</span><span class="op">)</span>,
               cbPartitions   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/partitions/man/parts.html" class="external-link">parts</a></span><span class="op">(</span><span class="fl">65</span><span class="op">)</span>,
               times <span class="op">=</span> <span class="fl">20</span>, unit <span class="op">=</span> <span class="st">"relative"</span><span class="op">)</span>
<span class="co">## Unit: relative</span>
<span class="co">##            expr   min    lq  mean median    uq   max neval cld</span>
<span class="co">##  cbRcppAlgosPar 1.000 1.000 1.000  1.000 1.000 1.000    20 a</span>
<span class="co">##  cbRcppAlgosSer 2.570 2.281 2.079  2.132 2.064 1.530    20  b</span>
<span class="co">##  cbArrangements 2.749 2.229 2.065  2.110 2.023 1.355    20  b</span>
<span class="co">##    cbPartitions 9.527 7.864 7.699  8.202 8.034 4.344    20   c</span></code></pre></div>
</div>
<div class="section level4">
<h4 id="restricted-partitions">Restricted Partitions<a class="anchor" aria-label="anchor" href="#restricted-partitions"></a>
</h4>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">t1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/combinatoricsGeneral.html">comboGeneral</a></span><span class="op">(</span><span class="fl">100</span>, <span class="fl">15</span>, <span class="cn">TRUE</span>, constraintFun <span class="op">=</span> <span class="st">"sum"</span>,
                   comparisonFun <span class="op">=</span> <span class="st">"=="</span>, limitConstraints <span class="op">=</span> <span class="fl">100</span><span class="op">)</span>
<span class="va">t2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/partitions/man/partitions.package.html" class="external-link">partitions</a></span><span class="op">(</span><span class="fl">100</span>, <span class="fl">15</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/identical.html" class="external-link">identical</a></span><span class="op">(</span><span class="va">t1</span>, <span class="va">t2</span><span class="op">)</span>
<span class="co">#&gt; [1] TRUE</span>
<span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="va">t1</span><span class="op">)</span>
<span class="co">#&gt; [1] 9921212      15</span>
<span class="fu"><a href="https://rdrr.io/r/base/rm.html" class="external-link">rm</a></span><span class="op">(</span><span class="va">t1</span>, <span class="va">t2</span><span class="op">)</span>

<span class="co"># This takes a really long time... not because of restrictedparts,</span>
<span class="co"># but because apply is not that fast. This transformation is</span>
<span class="co"># needed for proper comparisons. As a result, we will compare</span>
<span class="co"># a smaller example</span>
<span class="co"># t3 &lt;- t(apply(as.matrix(restrictedparts(100, 15, include.zero = F)), 2, sort))</span>
<span class="va">t3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/t.html" class="external-link">t</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/apply.html" class="external-link">apply</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">as.matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/partitions/man/parts.html" class="external-link">restrictedparts</a></span><span class="op">(</span><span class="fl">50</span>, <span class="fl">15</span>, include.zero <span class="op">=</span> <span class="cn">F</span><span class="op">)</span><span class="op">)</span>, <span class="fl">2</span>, <span class="va">sort</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/identical.html" class="external-link">identical</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/partitions/man/partitions.package.html" class="external-link">partitions</a></span><span class="op">(</span><span class="fl">50</span>, <span class="fl">15</span><span class="op">)</span>, <span class="va">t3</span><span class="op">)</span>
<span class="co">#&gt; [1] TRUE</span>
<span class="fu"><a href="https://rdrr.io/r/base/rm.html" class="external-link">rm</a></span><span class="op">(</span><span class="va">t3</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/invisible.html" class="external-link">invisible</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/gc.html" class="external-link">gc</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/pkg/microbenchmark/man/microbenchmark.html" class="external-link">microbenchmark</a></span><span class="op">(</span>cbRcppAlgosPar <span class="op">=</span> <span class="fu"><a href="../reference/partitionsGeneral.html">partitionsGeneral</a></span><span class="op">(</span><span class="fl">100</span>, <span class="fl">15</span>, <span class="cn">TRUE</span>,
                                                  nThreads <span class="op">=</span> <span class="va">numThreads</span><span class="op">)</span>,
               cbRcppAlgosSer <span class="op">=</span> <span class="fu"><a href="../reference/partitionsGeneral.html">partitionsGeneral</a></span><span class="op">(</span><span class="fl">100</span>, <span class="fl">15</span>, <span class="cn">TRUE</span><span class="op">)</span>,
               cbArrangements <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/partitions/man/partitions.package.html" class="external-link">partitions</a></span><span class="op">(</span><span class="fl">100</span>, <span class="fl">15</span><span class="op">)</span>,
               cbPartitions   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/partitions/man/parts.html" class="external-link">restrictedparts</a></span><span class="op">(</span><span class="fl">100</span>, <span class="fl">15</span>,
                                                include.zero <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>,
               times <span class="op">=</span> <span class="fl">10</span>, unit <span class="op">=</span> <span class="st">"relative"</span><span class="op">)</span>
<span class="co">## Unit: relative</span>
<span class="co">##            expr    min     lq  mean median    uq   max neval cld</span>
<span class="co">##  cbRcppAlgosPar  1.000  1.000 1.000  1.000 1.000 1.000    10 a</span>
<span class="co">##  cbRcppAlgosSer  2.770  2.674 1.945  1.599 1.826 1.918    10  b</span>
<span class="co">##  cbArrangements  2.735  2.662 1.926  1.601 1.718 1.902    10  b</span>
<span class="co">##    cbPartitions 14.865 14.528 9.841  8.523 8.448 8.854    10   c</span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="partitions---multisets">Partitions - Multisets<a class="anchor" aria-label="anchor" href="#partitions---multisets"></a>
</h3>
<p>Currenlty, <code>RcppAlgos</code> is the only package capable of efficiently generating partitions of multisets. Therefore, we will only time <code>RcppAlgos</code> and use this as a reference for future improvements.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">t1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/combinatoricsGeneral.html">comboGeneral</a></span><span class="op">(</span><span class="fl">120</span>, <span class="fl">10</span>, freqs<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">8</span>, <span class="fl">15</span><span class="op">)</span>,
                   constraintFun <span class="op">=</span> <span class="st">"sum"</span>, comparisonFun <span class="op">=</span> <span class="st">"=="</span>,
                   limitConstraints <span class="op">=</span> <span class="fl">120</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="va">t1</span><span class="op">)</span>
<span class="co">#&gt; [1] 7340225      10</span>
<span class="fu"><a href="https://rdrr.io/r/base/all.html" class="external-link">all</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/colSums.html" class="external-link">rowSums</a></span><span class="op">(</span><span class="va">t1</span><span class="op">)</span> <span class="op">==</span> <span class="fl">120</span><span class="op">)</span>
<span class="co">#&gt; [1] TRUE</span>
<span class="fu"><a href="https://rdrr.io/pkg/microbenchmark/man/microbenchmark.html" class="external-link">microbenchmark</a></span><span class="op">(</span>cbRcppAlgos <span class="op">=</span> <span class="fu"><a href="../reference/partitionsGeneral.html">partitionsGeneral</a></span><span class="op">(</span><span class="fl">120</span>, <span class="fl">10</span>, freqs<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">8</span>, <span class="fl">15</span><span class="op">)</span><span class="op">)</span>,
               times <span class="op">=</span> <span class="fl">10</span><span class="op">)</span>
<span class="co">## Unit: milliseconds</span>
<span class="co">##         expr   min      lq   mean median     uq    max neval</span>
<span class="co">##  cbRcppAlgos 715.2   724.8  750.5  735.3  791.5  804.5    10</span>

<span class="co">### In RcppAlgos 2.3.6 - 2.4.3</span>
<span class="co">#&gt; Unit: seconds</span>
<span class="co">#&gt;         expr   min      lq   mean median     uq    max neval</span>
<span class="co">#&gt;  cbRcppAlgos 1172.9 1175.1 1223.5 1193.3 1200.5 1482.0    10    10</span></code></pre></div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Joseph Wood.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
